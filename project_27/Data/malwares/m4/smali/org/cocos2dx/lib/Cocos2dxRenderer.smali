.class public Lorg/cocos2dx/lib/Cocos2dxRenderer;
.super Ljava/lang/Object;
.source "Cocos2dxRenderer.java"

# interfaces
.implements Landroid/opengl/GLSurfaceView$Renderer;


# static fields
.field private static final NANOSECONDSPERMINISECOND:J = 0xf4240L

.field private static final NANOSECONDSPERSECOND:J = 0x3b9aca00L

.field private static animationInterval:J

.field private static m_bStop:Z

.field public static m_strClassPath:Ljava/lang/String;


# instance fields
.field private last:J

.field private screenHeight:I

.field private screenWidth:I


# direct methods
.method static constructor <clinit>()V
    .locals 2

    .prologue
    .line 36
    const-wide/32 v0, 0xfe502a

    sput-wide v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->animationInterval:J

    .line 40
    const/4 v0, 0x0

    sput-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    .line 169
    const/4 v0, 0x0

    sput-object v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_strClassPath:Ljava/lang/String;

    .line 33
    return-void
.end method

.method public constructor <init>()V
    .locals 0

    .prologue
    .line 33
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    return-void
.end method

.method public static SetClassPath(Ljava/lang/String;)V
    .locals 0
    .param p0, "strPath"    # Ljava/lang/String;

    .prologue
    .line 172
    sput-object p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_strClassPath:Ljava/lang/String;

    .line 173
    return-void
.end method

.method public static SetStop(Z)V
    .locals 0
    .param p0, "bStop"    # Z

    .prologue
    .line 44
    sput-boolean p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    .line 45
    return-void
.end method

.method private static native nativeDeleteBackward()V
.end method

.method private static native nativeGetContentText()Ljava/lang/String;
.end method

.method private static native nativeInit(II)V
.end method

.method private static native nativeInitEx(IILjava/lang/String;)V
.end method

.method private static native nativeInsertText(Ljava/lang/String;)V
.end method

.method private static native nativeKeyDown(I)Z
.end method

.method private static native nativeOnPause()V
.end method

.method private static native nativeOnResume()V
.end method

.method private static native nativeRender()V
.end method

.method private static native nativeTouchesBegin(IFF)V
.end method

.method private static native nativeTouchesCancel([I[F[F)V
.end method

.method private static native nativeTouchesEnd(IFF)V
.end method

.method private static native nativeTouchesMove([I[F[F)V
.end method

.method public static setAnimationInterval(D)V
    .locals 2
    .param p0, "interval"    # D

    .prologue
    .line 156
    const-wide v0, 0x41cdcd6500000000L    # 1.0E9

    mul-double/2addr v0, p0

    double-to-long v0, v0

    sput-wide v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->animationInterval:J

    .line 157
    return-void
.end method


# virtual methods
.method public getContentText()Ljava/lang/String;
    .locals 1

    .prologue
    .line 196
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 198
    const-string v0, ""

    .line 200
    :goto_0
    return-object v0

    :cond_0
    invoke-static {}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeGetContentText()Ljava/lang/String;

    move-result-object v0

    goto :goto_0
.end method

.method public handleActionCancel([I[F[F)V
    .locals 1
    .param p1, "id"    # [I
    .param p2, "x"    # [F
    .param p3, "y"    # [F

    .prologue
    .line 114
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 119
    :goto_0
    return-void

    .line 118
    :cond_0
    invoke-static {p1, p2, p3}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeTouchesCancel([I[F[F)V

    goto :goto_0
.end method

.method public handleActionDown(IFF)V
    .locals 1
    .param p1, "id"    # I
    .param p2, "x"    # F
    .param p3, "y"    # F

    .prologue
    .line 96
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 101
    :goto_0
    return-void

    .line 100
    :cond_0
    invoke-static {p1, p2, p3}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeTouchesBegin(IFF)V

    goto :goto_0
.end method

.method public handleActionMove([I[F[F)V
    .locals 1
    .param p1, "id"    # [I
    .param p2, "x"    # [F
    .param p3, "y"    # [F

    .prologue
    .line 123
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 128
    :goto_0
    return-void

    .line 127
    :cond_0
    invoke-static {p1, p2, p3}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeTouchesMove([I[F[F)V

    goto :goto_0
.end method

.method public handleActionUp(IFF)V
    .locals 1
    .param p1, "id"    # I
    .param p2, "x"    # F
    .param p3, "y"    # F

    .prologue
    .line 105
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 110
    :goto_0
    return-void

    .line 109
    :cond_0
    invoke-static {p1, p2, p3}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeTouchesEnd(IFF)V

    goto :goto_0
.end method

.method public handleDeleteBackward()V
    .locals 1

    .prologue
    .line 188
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 193
    :goto_0
    return-void

    .line 192
    :cond_0
    invoke-static {}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeDeleteBackward()V

    goto :goto_0
.end method

.method public handleInsertText(Ljava/lang/String;)V
    .locals 1
    .param p1, "text"    # Ljava/lang/String;

    .prologue
    .line 180
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 185
    :goto_0
    return-void

    .line 184
    :cond_0
    invoke-static {p1}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeInsertText(Ljava/lang/String;)V

    goto :goto_0
.end method

.method public handleKeyDown(I)V
    .locals 1
    .param p1, "keyCode"    # I

    .prologue
    .line 132
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 137
    :goto_0
    return-void

    .line 136
    :cond_0
    invoke-static {p1}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeKeyDown(I)Z

    goto :goto_0
.end method

.method public handleOnPause()V
    .locals 1

    .prologue
    .line 140
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 145
    :goto_0
    return-void

    .line 144
    :cond_0
    invoke-static {}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeOnPause()V

    goto :goto_0
.end method

.method public handleOnResume()V
    .locals 1

    .prologue
    .line 148
    sget-boolean v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v0, :cond_0

    .line 153
    :goto_0
    return-void

    .line 152
    :cond_0
    invoke-static {}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeOnResume()V

    goto :goto_0
.end method

.method public onDrawFrame(Ljavax/microedition/khronos/opengles/GL10;)V
    .locals 8
    .param p1, "gl"    # Ljavax/microedition/khronos/opengles/GL10;

    .prologue
    .line 70
    sget-boolean v4, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_bStop:Z

    if-eqz v4, :cond_0

    .line 92
    :goto_0
    return-void

    .line 74
    :cond_0
    invoke-static {}, Ljava/lang/System;->nanoTime()J

    move-result-wide v2

    .line 75
    .local v2, "now":J
    iget-wide v4, p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->last:J

    sub-long v0, v2, v4

    .line 77
    .local v0, "interval":J
    invoke-static {}, Lorg/cocos2dx/lib/Cocos2dxGLSurfaceView;->OnTimer()V

    .line 81
    invoke-static {}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeRender()V

    .line 84
    sget-wide v4, Lorg/cocos2dx/lib/Cocos2dxRenderer;->animationInterval:J

    cmp-long v4, v0, v4

    if-gez v4, :cond_1

    .line 87
    :try_start_0
    sget-wide v4, Lorg/cocos2dx/lib/Cocos2dxRenderer;->animationInterval:J

    sub-long/2addr v4, v0

    const-wide/16 v6, 0x2

    mul-long/2addr v4, v6

    const-wide/32 v6, 0xf4240

    div-long/2addr v4, v6

    invoke-static {v4, v5}, Ljava/lang/Thread;->sleep(J)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 91
    :cond_1
    :goto_1
    iput-wide v2, p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->last:J

    goto :goto_0

    .line 88
    :catch_0
    move-exception v4

    goto :goto_1
.end method

.method public onSurfaceChanged(Ljavax/microedition/khronos/opengles/GL10;II)V
    .locals 0
    .param p1, "gl"    # Ljavax/microedition/khronos/opengles/GL10;
    .param p2, "w"    # I
    .param p3, "h"    # I

    .prologue
    .line 66
    return-void
.end method

.method public onSurfaceCreated(Ljavax/microedition/khronos/opengles/GL10;Ljavax/microedition/khronos/egl/EGLConfig;)V
    .locals 3
    .param p1, "gl"    # Ljavax/microedition/khronos/opengles/GL10;
    .param p2, "config"    # Ljavax/microedition/khronos/egl/EGLConfig;

    .prologue
    .line 48
    sget-object v0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_strClassPath:Ljava/lang/String;

    if-nez v0, :cond_0

    .line 50
    iget v0, p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->screenWidth:I

    iget v1, p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->screenHeight:I

    invoke-static {v0, v1}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeInit(II)V

    .line 56
    :goto_0
    invoke-static {}, Ljava/lang/System;->nanoTime()J

    move-result-wide v0

    iput-wide v0, p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->last:J

    .line 58
    return-void

    .line 54
    :cond_0
    iget v0, p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->screenWidth:I

    iget v1, p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->screenHeight:I

    sget-object v2, Lorg/cocos2dx/lib/Cocos2dxRenderer;->m_strClassPath:Ljava/lang/String;

    invoke-static {v0, v1, v2}, Lorg/cocos2dx/lib/Cocos2dxRenderer;->nativeInitEx(IILjava/lang/String;)V

    goto :goto_0
.end method

.method public setScreenWidthAndHeight(II)V
    .locals 0
    .param p1, "w"    # I
    .param p2, "h"    # I

    .prologue
    .line 61
    iput p1, p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->screenWidth:I

    .line 62
    iput p2, p0, Lorg/cocos2dx/lib/Cocos2dxRenderer;->screenHeight:I

    .line 63
    return-void
.end method
